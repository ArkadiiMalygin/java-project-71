  name: GitHub JAVA CI
  on: [push]
  jobs:
    Build:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
        - uses: actions/setup-java@v4
          with:
            java-version: '21'
            distribution: 'temurin'
        - uses: gradle/gradle-build-action@v3
          with:
            gradle-version: 8.9
            arguments: build
            build-root-directory: app
        - name: Publish code coverage
          uses: paambaati/codeclimate-action@v5.0.0
          env:
            CC_TEST_REPORTER_ID: ${{secrets.CC_TEST_REPORTER_ID}}
            JACOCO_SOURCE_PATH: app/src/main/java
          with:
#            prefix: $(basename $PWD)
#            workingDirectory: app
            coverageCommand: make report
            coverageLocations: ${{github.workspace}}/app/build/reports/jacoco/test/jacocoTestReport.xml:jacoco
#        - run:  ./gradlew build
#        - run: 	./gradlew checkstyleMain
#        - run: 	./gradlew checkstyleTest
#        - run: 	./gradlew test
#        - run: 	./gradlew build
